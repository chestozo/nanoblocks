// Default config
_ie ?= false // For smart IE including
vendor-prefixes ?= webkit moz ms o official // Default used prefixes

// Based on visionmedia's nib/vendor.stylÂ 
vendor(prop, args, only = null, ignore = null)
    push(only, 'official') // Implied official properties
    for prefix in vendor-prefixes
        unless (only and !(prefix in only)) or (ignore and prefix in ignore) or _ie
            if prefix == official
                {prop}: args
            else
                {'-' + prefix + '-' + prop}: args

border-radius()
    vendor('border-radius', arguments, webkit moz);

box-shadow()
    vendor('box-shadow', arguments, webkit moz);

transform()
    vendor('transform', arguments, webkit moz o);

background-size()
    vendor('background-size', arguments, moz o);

background-origin()
    vendor('background-origin', arguments, moz o);


// Selector hacks. Use in selectors .class{o-selector-hack}
o-selector-hack = ', x:-o-prefocus'

bg-gradient(grad, fallback-color) {
    formula = unquote(join(', ', grad))

    background: fallback-color;
    background: -webkit-linear-gradient(top, formula); /* Saf4+, Chrome */
    background: -webkit-linear-gradient(top, formula); /* Chrome 10+, Saf5.1+ */
    background:    -moz-linear-gradient(top, formula); /* FF3.6+ */
    background:     -ms-linear-gradient(top, formula); /* IE10 */
    background:      -o-linear-gradient(top, formula); /* Opera 11.10+ */
    background:         linear-gradient(to bottom, formula); /* W3C */
}